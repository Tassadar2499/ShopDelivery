@page "/register"
@using CouriersWebService.Data
@using System.Net.Http.Json;

@inject HttpClient httpClient
@inject NavigationManager navigationManager

<h3>Register</h3>

<EditForm Model="@RegisterData" OnValidSubmit="@HandleValidSubmit">
	<DataAnnotationsValidator />
	<ValidationSummary />

	<InputText id="login" @bind-Value="RegisterData.Login" />
	<InputText type="password" placeholder="Password" @bind-Value="@RegisterData.Password" />

	<button type="submit">Register</button>
</EditForm>

@code {
	private RegisterData RegisterData { get; set; } = new RegisterData();

	private void HandleValidSubmit()
		=> httpClient.PostAsJsonAsync($"{navigationManager.BaseUri}Auth/Register", RegisterData);
}